<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">

</head><body><dom-module id="aca-meta-dialog-usage">

  <style>

    span.field-label {
      min-width: 7em;
      display: inline-block;
      font-weight: bold;
    }
  </style>

  <template>

    <iron-ajax id="metaAjax" url$="[[infoUrl]]" content-type="application/json" method="post" handle-as="json" last-response="{{_lookupResponse}}" last-error="{{_lastError}}"></iron-ajax>

    <paper-card elevation="2" hidden$="[[!_lastError]]" heading="Error retrieving article usage.">
      <div class="card-content">
        [[_handleError(_lastError)]]
      </div>
    </paper-card>

    <template is="dom-repeat" items="[[_lookupResponse.content]]" as="content">

      <paper-card elevation="1">
        <div class="card-content layout vertical">
          <div><span class="field-label">Title:</span>[[item.metaData.titleName]]</div>
          <div><span class="field-label">Sections:</span>[[_sectionNamesFromItem(item)]]</div>
          <div><span class="field-label">Author:</span>[[content.article.author]]</div>
          <div><span class="field-label">Label:</span>[[content.article.label]]</div>
          <div><span class="field-label">Published:</span>[[_dateFromLong(content.article.publishDate)]]</div>
          <div><span class="field-label">Headline:</span>[[_cleanedHeadlineSummary(content.article.headlineSummary)]]</div>

          <template is="dom-if" if="[[_hasItems(content.article.tags)]]">
            <div>
              <span class="field-label">Tags:</span>
              [[_renderArticleTags(content.article)]]
            </div>
          </template>

          <template is="dom-if" if="[[content.article.publicUrl]]">
            <div>
              <span class="field-label">Published to</span>[[content.article.publicUrl]]
            </div>
          </template>

          <template is="dom-if" if="[[content.article.geoPoint]]">
            <div><span class="field-label">GeoPoint:</span>[[content.article.geoPoint]]</div>
          </template>

        </div>
      </paper-card>

    </template>

  </template>

  </dom-module>
<script src="aca-meta-dialog-usage.js"></script></body></html>